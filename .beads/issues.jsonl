{"id":"letta-opencode-plugin-009p","title":"Matrix conversation archiving and review tooling","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:36:02.259594223Z","updated_at":"2026-01-05T11:15:52.767712773Z","closed_at":"2026-01-05T11:15:52.767712773Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-009p","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:38.29784897Z","created_by":"unknown"}],"comments":[{"id":1371,"issue_id":"letta-opencode-plugin-009p","author":"root","text":"Synced from Beads: letta-opencode-plugin-tqry\n\n---\nHuly Issue: LETTA-299","created_at":"2026-01-02T01:36:02Z"}]}
{"id":"letta-opencode-plugin-00d5","title":"Runtime updates and feedback loop implementation","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-24T12:06:52.251881726Z","updated_at":"2026-01-04T07:13:05.310709394Z","closed_at":"2026-01-04T07:13:05.310709394Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-00d5","depends_on_id":"letta-opencode-plugin-zknt","type":"parent-child","created_at":"2025-12-29T23:21:30.909605757Z","created_by":"unknown"},{"issue_id":"letta-opencode-plugin-00d5","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:38.636700624Z","created_by":"unknown"}],"comments":[{"id":460,"issue_id":"letta-opencode-plugin-00d5","author":"node","text":"## Objective\n\nEnable Letta calling agents (and human participants) to provide runtime updates and feedback to OpenCode tasks, supporting iterative correction and refinement.\n\n## Scope\n\n- Extend WorkspaceManager to track runtime updates and feedback events\n- Implement Matrix message handling for runtime updates (requirement changes) and feedback requests\n- Notify OpenCode dev agent of new updates and track acknowledgements\n- Provide API for dev agent to request clarification or confirm updates\n\n## Acceptance Criteria\n\n- Runtime updates appear in workspace block metadata and Matrix room with context\n- Dev agent receives updates and confirms receipt (logged in Matrix)\n- Feedback loop supports: request review → provide corrections → confirmation\n- Tests cover scenarios: new requirements mid-task, versioning of updates, human feedback\n\n## Notes\n\n- Ensure updates do not overwrite existing metadata (merge strategy)\n- Provide clear logging for update history for auditing\n- Coordinate with message router for consistent event tagging\n\n---\nHuly Issue: LETTA-22","created_at":"2025-12-24T12:06:52Z"}]}
{"id":"letta-opencode-plugin-022y","title":"Workspace block schema + optimistic concurrency helpers","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:32:50.340309245Z","updated_at":"2026-01-04T10:25:14.403218394Z","closed_at":"2026-01-04T10:25:14.403218394Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-022y","depends_on_id":"letta-opencode-plugin-extb","type":"parent-child","created_at":"2026-01-04T01:36:41.311019228Z","created_by":"unknown"}],"comments":[{"id":1066,"issue_id":"letta-opencode-plugin-022y","author":"root","text":"Synced from Beads: letta-opencode-plugin-nb0i\n\n---\nHuly Issue: LETTA-466","created_at":"2026-01-02T01:32:50Z"}]}
{"id":"letta-opencode-plugin-03h7","title":"Add file size validation to read_task_file tool","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:31:25.916526611Z","updated_at":"2026-01-04T10:25:28.242074915Z","closed_at":"2026-01-04T10:25:28.242074915Z","close_reason":"Closed","comments":[{"id":855,"issue_id":"letta-opencode-plugin-03h7","author":"root","text":"Synced from Beads: letta-opencode-plugin-2dy7\n\n---\nHuly Issue: LETTA-291","created_at":"2026-01-02T01:31:26Z"}]}
{"id":"letta-opencode-plugin-04l","title":"Matrix message router and OpenCode signal bridge","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T05:54:52.221593591Z","updated_at":"2025-12-28T00:27:42.987639267Z","comments":[{"id":259,"issue_id":"letta-opencode-plugin-04l","author":"node","text":"Synced from Beads: letta-opencode-plugin-d7x\n\n---\nHuly Issue: LETTA-128","created_at":"2025-12-24T05:54:52Z"}]}
{"id":"letta-opencode-plugin-050h","title":"Fix completion notification role (use system instead of user)","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:31:26.951329997Z","updated_at":"2026-01-04T20:09:25.243398683Z","closed_at":"2026-01-04T20:09:25.243398683Z","close_reason":"Closed","comments":[{"id":858,"issue_id":"letta-opencode-plugin-050h","author":"root","text":"Synced from Beads: letta-opencode-plugin-759\n\n---\nHuly Issue: LETTA-105","created_at":"2026-01-02T01:31:27Z"}]}
{"id":"letta-opencode-plugin-05hn","title":"OpenCode Server Migration (replace CLI with HTTP API)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T01:33:49.303966749Z","updated_at":"2026-01-04T15:22:46.53920546Z","closed_at":"2026-01-04T15:22:46.412885024Z","close_reason":"Closed","comments":[{"id":1216,"issue_id":"letta-opencode-plugin-05hn","author":"root","text":"Synced from Beads: letta-opencode-plugin-nbh3\n\n---\nHuly Issue: LETTA-374","created_at":"2026-01-02T01:33:49Z"}]}
{"id":"letta-opencode-plugin-08gz","title":"Research Letta TypeScript SDK capabilities and API patterns","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T01:32:46.904925257Z","updated_at":"2026-01-04T12:31:27.739033353Z","comments":[{"id":1057,"issue_id":"letta-opencode-plugin-08gz","author":"root","text":"Synced from Beads: letta-opencode-plugin-xsk7\n\n---\nHuly Issue: LETTA-471","created_at":"2026-01-02T01:32:47Z"}]}
{"id":"letta-opencode-plugin-0fe3","title":"Types and config updates for OpenCode integration","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T12:16:13.324447027Z","updated_at":"2026-01-04T02:59:05.922608069Z","dependencies":[{"issue_id":"letta-opencode-plugin-0fe3","depends_on_id":"letta-opencode-plugin-05hn","type":"parent-child","created_at":"2026-01-04T01:36:37.616839359Z","created_by":"unknown"}],"comments":[{"id":469,"issue_id":"letta-opencode-plugin-0fe3","author":"node","text":"## Objective\n\nReview the archived repo https://github.com/frap129/opencode-mcp-tool and decide what to reuse for our MCP-only OpenCode appendage server.\n\n## Findings (initial)\n\n- Uses @modelcontextprotocol/sdk v0.5.0 (outdated) and StdioServerTransport only\n- Provides MCP server skeleton with tools registry, prompts, progress notifications/keepalive\n- Tools implemented: ask-opencode, brainstorm, timeout-test, ping, help, slash commands\n- Executes OpenCode via local CLI (no containerization, no Letta integration)\n- No auth, idempotency, queuing, or workspace block concepts\n- MIT licensed (compatible for reuse)\n\n## Reuse Plan\n\n- Reuse: tool registry pattern, progress notification keepalive loop, CLI execution wrapper abstraction\n- Replace: transport with Streamable HTTP, SDK ^1.16.0, tool set with our  +  tools\n- Add: Letta API client, Execution Manager (container spawn/limits), idempotency/queue, optimistic concurrency on workspace blocks\n\n## Deliverables\n\n1. Delta design doc (what to keep, what to change)\n2. Migration tasks list (SDK upgrade, transport switch, new tools, remove legacy tools)\n3. Spike PR to port skeleton and boot a streamable HTTP MCP server\n\n## Acceptance Criteria\n\n- Documented decision (reuse vs fresh)\n- If reuse: working HTTP MCP server boots with health log\n- Clear task breakdown for upgrade path\n\n---\nHuly Issue: LETTA-7","created_at":"2025-12-24T12:16:13Z"}]}
{"id":"letta-opencode-plugin-0pvs","title":"Design OpenCode-as-Appendage architecture for Letta agent delegation","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T01:32:53.254901375Z","updated_at":"2026-01-04T16:27:54.838687347Z","comments":[{"id":1072,"issue_id":"letta-opencode-plugin-0pvs","author":"root","text":"Synced from Beads: letta-opencode-plugin-m46j\n\n---\nHuly Issue: LETTA-554","created_at":"2026-01-02T01:32:53Z"}]}
{"id":"letta-opencode-plugin-0wnx","title":"Implement bidirectional communication via memory blocks","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:31:20.960349492Z","updated_at":"2026-01-04T10:25:36.275215015Z","closed_at":"2026-01-04T10:25:36.275215015Z","close_reason":"Closed","comments":[{"id":842,"issue_id":"letta-opencode-plugin-0wnx","author":"root","text":"Synced from Beads: letta-opencode-plugin-89fx\n\n---\nHuly Issue: LETTA-611","created_at":"2026-01-02T01:31:21Z"}]}
{"id":"letta-opencode-plugin-11o1","title":"Letta client adapter: agents/memory/messages with retries \u0026 409 handling","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T01:33:54.790340218Z","updated_at":"2026-01-04T16:27:27.011363295Z","dependencies":[{"issue_id":"letta-opencode-plugin-11o1","depends_on_id":"letta-opencode-plugin-extb","type":"parent-child","created_at":"2026-01-04T01:36:39.98103828Z","created_by":"unknown"}],"comments":[{"id":1230,"issue_id":"letta-opencode-plugin-11o1","author":"root","text":"Synced from Beads: letta-opencode-plugin-zfau\n\n---\nHuly Issue: LETTA-454","created_at":"2026-01-02T01:33:54Z"}]}
{"id":"letta-opencode-plugin-1ldj","title":"Implement event pruning to prevent workspace block overflow","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:33:16.287852412Z","updated_at":"2026-01-04T10:25:08.262874795Z","closed_at":"2026-01-04T10:25:08.262874795Z","close_reason":"Closed","comments":[{"id":1129,"issue_id":"letta-opencode-plugin-1ldj","author":"root","text":"Synced from Beads: letta-opencode-plugin-ya3e\n\n---\nHuly Issue: LETTA-519","created_at":"2026-01-02T01:33:16Z"}]}
{"id":"letta-opencode-plugin-1nlq","title":"Matrix client integration for Letta OpenCode Plugin","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-26T21:55:56.057541084Z","updated_at":"2026-01-04T10:25:41.815826715Z","closed_at":"2026-01-04T10:25:41.815826715Z","close_reason":"Closed","comments":[{"id":707,"issue_id":"letta-opencode-plugin-1nlq","author":"node","text":"Synced from Beads: letta-opencode-plugin-p7t\n\n---\nHuly Issue: LETTA-174","created_at":"2025-12-26T21:55:56Z"}]}
{"id":"letta-opencode-plugin-1pnx","title":"End-to-end Matrix coordination integration tests","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-26T21:56:06.484792805Z","updated_at":"2026-01-04T20:10:20.930812917Z","closed_at":"2026-01-04T20:10:20.930812917Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-1pnx","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:43.695395522Z","created_by":"unknown"}],"comments":[{"id":720,"issue_id":"letta-opencode-plugin-1pnx","author":"node","text":"Synced from Beads: letta-opencode-plugin-n9b\n\n---\nHuly Issue: LETTA-160","created_at":"2025-12-26T21:56:06Z"}]}
{"id":"letta-opencode-plugin-1su3","title":"Metrics, logs, kill switches + docs","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:35:26.513160071Z","updated_at":"2026-01-04T20:09:27.930781038Z","closed_at":"2026-01-04T20:09:27.930781038Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-1su3","depends_on_id":"letta-opencode-plugin-extb","type":"parent-child","created_at":"2026-01-04T01:36:39.308627292Z","created_by":"unknown"}],"comments":[{"id":1338,"issue_id":"letta-opencode-plugin-1su3","author":"root","text":"Synced from Beads: letta-opencode-plugin-690l\n\n---\nHuly Issue: LETTA-293","created_at":"2026-01-02T01:35:26Z"}]}
{"id":"letta-opencode-plugin-24k","title":"Implement event streaming from OpenCode to Workspace and Matrix","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-24T03:11:47.647032337Z","updated_at":"2025-12-28T17:17:37.471206614Z","dependencies":[{"issue_id":"letta-opencode-plugin-24k","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:37.254809151Z","created_by":"unknown"}],"comments":[{"id":203,"issue_id":"letta-opencode-plugin-24k","author":"node","text":"Synced from Beads: letta-opencode-plugin-ce3\n\n---\nHuly Issue: LETTA-114","created_at":"2025-12-24T03:11:47Z"}]}
{"id":"letta-opencode-plugin-2e0b","title":"Integration tests for OpenCode server path","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:32:27.958362841Z","updated_at":"2026-01-04T15:22:56.742737489Z","closed_at":"2026-01-04T15:22:56.742737489Z","close_reason":"Closed","comments":[{"id":1005,"issue_id":"letta-opencode-plugin-2e0b","author":"root","text":"Synced from Beads: letta-opencode-plugin-kbh\n\n---\nHuly Issue: LETTA-139","created_at":"2026-01-02T01:32:28Z"}]}
{"id":"letta-opencode-plugin-2gxm","title":"Add character limits to workspace memory blocks","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-24T14:28:23.324309019Z","updated_at":"2026-01-04T07:13:04.387398447Z","closed_at":"2026-01-04T07:13:04.387398447Z","close_reason":"Closed","comments":[{"id":508,"issue_id":"letta-opencode-plugin-2gxm","author":"node","text":"## Critical Issue\n\nWorkspace memory blocks are created without character limits, risking context window overflow.\n\n### Required Fix\n\n\n\n### Files to Update\n\n-  - Add limit parameter\n-  - Add size validation\n-  - Add WORKSPACE_BLOCK_LIMIT variable\n\n### Acceptance Criteria\n\n- [ ] All workspace blocks created with character limit\n- [ ] Limit configurable via environment variable (default 50000)\n- [ ] Size validation before updates\n- [ ] Works with event pruning (LETTA-36)\n\n---\nHuly Issue: LETTA-37","created_at":"2025-12-24T14:28:23Z"}]}
{"id":"letta-opencode-plugin-2oei","title":"Matrix task room manager service","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-24T16:18:49.824182323Z","updated_at":"2026-01-04T07:13:03.342232416Z","closed_at":"2026-01-04T07:13:03.342232416Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-2oei","depends_on_id":"letta-opencode-plugin-zknt","type":"parent-child","created_at":"2025-12-29T23:21:39.030150723Z","created_by":"unknown"},{"issue_id":"letta-opencode-plugin-2oei","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:42.998042901Z","created_by":"unknown"}],"comments":[{"id":526,"issue_id":"letta-opencode-plugin-2oei","author":"node","text":"## Objective\n\nCreate a Matrix room manager service responsible for lifecycle management of task-specific rooms, including creation, participant management, and teardown.\n\n## Scope\n\n- Define MatrixRoomManager interface\n- Implement room creation with task metadata (name, topic, tags)\n- Invite participants (calling agent, dev agent, optional human observers)\n- Manage room permissions (widget support, read-only observers)\n- Handle room closure and archival\n\n## Acceptance Criteria\n\n- Calling  creates Matrix room titled  with topic set to task description\n-  handles both agent IDs and human Matrix user IDs\n-  archives room and posts closing summary\n- Room metadata includes task ID, agent IDs, timestamps\n\n## Notes\n\n- Use  patterns for power levels\n- Ensure human observers default to read-only permissions\n- Store room metadata in workspace block for retrieval\n\n---\nHuly Issue: LETTA-17","created_at":"2025-12-24T16:18:50Z"}]}
{"id":"letta-opencode-plugin-2p02","title":"Add Prettier configuration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T01:31:52.771184522Z","updated_at":"2026-01-04T07:14:41.033324086Z","closed_at":"2026-01-04T07:14:41.033324086Z","close_reason":"Closed","comments":[{"id":905,"issue_id":"letta-opencode-plugin-2p02","author":"root","text":"Synced from Beads: letta-opencode-plugin-atpf\n\nSet up Prettier for consistent code formatting.\n\n## Requirements\n\n- Create  with project standards\n- Create  for dist/, node_modules/, coverage/\n- Add  and  npm scripts\n\n## Suggested settings\n\n- Semi: true\n- Single quotes: false (use double quotes)\n- Tab width: 2\n- Trailing comma: es5\n- Print width: 100\n\n## Integration\n\n- Integrate with ESLint using eslint-config-prettier\n- Add to CI workflow format check\n\n---\nHuly Issue: LETTA-604","created_at":"2026-01-02T01:31:52Z"}]}
{"id":"letta-opencode-plugin-2rrf","title":"Repo bootstrap: letta-x-opencode skeleton (HTTP MCP server)","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:34:34.275499783Z","updated_at":"2026-01-04T10:25:00.051360835Z","closed_at":"2026-01-04T10:25:00.051360835Z","close_reason":"Closed","dependencies":[{"issue_id":"letta-opencode-plugin-2rrf","depends_on_id":"letta-opencode-plugin-extb","type":"parent-child","created_at":"2026-01-04T10:34:26.039749573Z","created_by":"unknown"}],"comments":[{"id":1296,"issue_id":"letta-opencode-plugin-2rrf","author":"root","text":"Synced from Beads: letta-opencode-plugin-3hyg\n\n---\nHuly Issue: LETTA-387","created_at":"2026-01-02T01:34:34Z"}]}
{"id":"letta-opencode-plugin-2wm","title":"Design ExecutionManager refactor to use OpenCode HTTP API","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:40:45.452494992Z","updated_at":"2025-12-28T19:20:40.776896249Z","dependencies":[{"issue_id":"letta-opencode-plugin-2wm","depends_on_id":"letta-opencode-plugin-05hn","type":"parent-child","created_at":"2026-01-04T01:36:40.320503441Z","created_by":"unknown"}],"comments":[{"id":528,"issue_id":"letta-opencode-plugin-2wm","author":"node","text":"Refactor ExecutionManager to start an OpenCode server container (opencode serve) per task and connect via @opencode-ai/sdk. Implement session creation, prompt sending, event streaming, and graceful shutdown.\n\nAcceptance Criteria:\n\n- Container starts with opencode serve exposed\n- SDK client connects and creates a session\n- Prompt is sent and responses handled\n- Events streamed to WorkspaceManager\n- Cancel maps to session.abort()\n- Pause/resume placeholder behavior documented\n\nOwners: @backend @platform\nDue date: 2025-11-01\n\n---\nHuly Issue: LETTA-26","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-3epj","title":"Map control signals to OpenCode (cancel/pause/resume)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:53:33.26405553Z","updated_at":"2026-01-04T07:13:10.346433386Z","dependencies":[{"issue_id":"letta-opencode-plugin-3epj","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T02:59:39.871897054Z","created_by":"unknown"}],"comments":[{"id":587,"issue_id":"letta-opencode-plugin-3epj","author":"node","text":"Synced from Beads: letta-opencode-plugin-6o0h\n\n---\nHuly Issue: LETTA-288","created_at":"2025-12-26T21:53:33Z"}]}
{"id":"letta-opencode-plugin-56e","title":"Human-in-the-loop participation via Matrix","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-22T23:47:01.698791272Z","updated_at":"2025-12-22T23:47:01.698791272Z","dependencies":[{"issue_id":"letta-opencode-plugin-56e","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:40.995037511Z","created_by":"unknown"}],"comments":[{"id":529,"issue_id":"letta-opencode-plugin-56e","author":"node","text":"## Objective\n\nEnable optional human participation in OpenCode task rooms, allowing human PMs or experts to observe, intervene, and provide feedback through Matrix.\n\n## Scope\n\n- Add configuration for default human observers per task\n- Ensure human observers are invited with read-only permissions by default\n- Provide commands/actions for humans to escalate (e.g., request changes, halt execution)\n- Document human participation workflow\n\n## Acceptance Criteria\n\n- Human user receives invitation when enabled in configuration\n- Human messages are routed to both Letta calling agent and OpenCode dev agent\n- Human can trigger task cancellation or request changes via Matrix command\n- Documentation covers how humans join and interact with task rooms\n\n## Notes\n\n- Coordinate with permissions helper for power levels\n- Ensure logging for human interventions for auditing\n- Provide optional manual invitation command for ad-hoc observers\n\n---\nHuly Issue: LETTA-20","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-5o6n","title":"Add ESLint configuration","description":"Set up ESLint for TypeScript with modern flat config.\n\n## Requirements\n- Use ESLint 9.x flat config format (`eslint.config.js`)\n- Configure for TypeScript with `@typescript-eslint` plugin\n- Enable recommended rules for TypeScript\n- Configure for ESM modules\n- Ignore dist/, node_modules/, coverage/\n\n## Rules to consider\n- No unused variables (warn)\n- No explicit any (warn)\n- Consistent type imports\n- No console in production code (warn, allow console.error)\n\n## Dependencies to add\n- eslint\n- @typescript-eslint/eslint-plugin\n- @typescript-eslint/parser\n- globals","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T07:15:51.345904049Z","updated_at":"2025-12-28T07:49:21.109239125Z","closed_at":"2025-12-28T07:49:21.109239125Z","close_reason":"Closed"}
{"id":"letta-opencode-plugin-5wtv","title":"Add pre-commit hooks with Husky","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T01:31:53.286932549Z","updated_at":"2026-01-03T17:02:17.552428093-05:00","closed_at":"2026-01-03T17:02:17.552428093-05:00","close_reason":"Duplicate","comments":[{"id":906,"issue_id":"letta-opencode-plugin-5wtv","author":"root","text":"Synced from Beads: letta-opencode-plugin-60o8\n\nSet up Husky for git hooks to enforce quality before commits.\n\n## Requirements\n\n- Install husky and lint-staged\n- Configure pre-commit hook to run:\n  - lint-staged (ESLint + Prettier on staged files)\n  - Type check ()\n- Configure pre-push hook to run tests\n\n## lint-staged config\n\n\n\n## Setup\n\n- Add  script: \n- Document hook bypass with  for emergencies\n\n---\nHuly Issue: LETTA-608","created_at":"2026-01-02T01:31:53Z"}]}
{"id":"letta-opencode-plugin-6d5u","title":"Matrix-based multi-agent coordination via Synapse","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:35:51.498300425Z","updated_at":"2026-01-04T10:24:53.935442448Z","closed_at":"2026-01-04T10:24:53.935442448Z","close_reason":"Closed","comments":[{"id":1361,"issue_id":"letta-opencode-plugin-6d5u","author":"root","text":"Synced from Beads: letta-opencode-plugin-p9o\n\n---\nHuly Issue: LETTA-280","created_at":"2026-01-02T01:35:51Z"}]}
{"id":"letta-opencode-plugin-6fd","title":"Add file access tools: get_task_files, read_task_file","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:40:46.445012916Z","updated_at":"2025-12-22T23:47:02.670217257Z","dependencies":[{"issue_id":"letta-opencode-plugin-6fd","depends_on_id":"letta-opencode-plugin-05hn","type":"parent-child","created_at":"2026-01-04T01:36:42.340492779Z","created_by":"unknown"}],"comments":[{"id":530,"issue_id":"letta-opencode-plugin-6fd","author":"node","text":"Expose task file operations by powering them with OpenCode SDK: list changed/created files and read file content from the running session. Update server.ts with the new tools and docs.\n\nAcceptance Criteria:\n\n- get_task_files returns changed/created file list\n- read_task_file returns file content\n- Handles large files gracefully (truncate or stream)\n\nOwners: @backend\nDue date: 2025-11-08\n\n---\nHuly Issue: LETTA-29","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-7a2","title":"Container lifecycle management for OpenCode server","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:40:44.518336616Z","updated_at":"2025-12-28T19:02:02.288018806Z","dependencies":[{"issue_id":"letta-opencode-plugin-7a2","depends_on_id":"letta-opencode-plugin-05hn","type":"parent-child","created_at":"2026-01-04T01:36:37.965762113Z","created_by":"unknown"}],"comments":[{"id":534,"issue_id":"letta-opencode-plugin-7a2","author":"node","text":"Start OpenCode server in detached mode per task, allocate dynamic ports, detect server readiness, health checks, and cleanup (kill, remove). Handle container IP/URL discovery for client connection. Add logging and error handling.\n\nAcceptance Criteria:\n\n- Container start/stop reliable across 100 runs\n- Server readiness detection under 5s median\n- Healthcheck endpoint monitored\n- Errors logged with containerId and taskId\n\nOwners: @platform\nDue date: 2025-10-30\n\n---\nHuly Issue: LETTA-30","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-7a6j","title":"Design and implement transport mechanism for Letta-OpenCode communication","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-24T11:07:16.716171277Z","updated_at":"2026-01-04T15:23:01.934262489Z","closed_at":"2026-01-04T15:23:01.934262489Z","close_reason":"Closed","comments":[{"id":427,"issue_id":"letta-opencode-plugin-7a6j","author":"node","text":"Synced from Beads: letta-opencode-plugin-b5w\n\n---\nHuly Issue: LETTA-96","created_at":"2025-12-24T11:07:16Z"}]}
{"id":"letta-opencode-plugin-7q7p","title":"Repo bootstrap: letta-x-opencode skeleton (HTTP MCP server)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T16:22:04.249256586Z","updated_at":"2025-12-24T16:22:04.249256586Z"}
{"id":"letta-opencode-plugin-7rjp","title":"Add CI workflow for tests and linting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T01:31:00.062405764Z","updated_at":"2026-01-03T16:45:22.173083824-05:00","closed_at":"2026-01-03T16:45:22.173083824-05:00","close_reason":"Duplicate","comments":[{"id":814,"issue_id":"letta-opencode-plugin-7rjp","author":"root","text":"Synced from Beads: letta-opencode-plugin-v11v\n\nCreate a GitHub Actions workflow that runs on PRs and pushes to master/main:\n\n## Requirements\n\n- Run \n\u003e letta-opencode-plugin@0.2.0 prepare\n\u003e husky to install dependencies\n- Run \n\u003e letta-opencode-plugin@0.2.0 lint\n\u003e eslint src/ to check code style\n- Run \n\u003e letta-opencode-plugin@0.2.0 test:coverage\n\u003e jest --coverage to run tests with coverage\n- Fail if coverage thresholds not met (70% branches/functions/lines/statements)\n- Cache node_modules for faster builds\n- Run on ubuntu-latest with Node 20.x\n\n## Triggers\n\n- Pull requests to master/main\n- Push to master/main\n\n## Nice to have\n\n- Upload coverage reports as artifacts\n- Comment coverage summary on PRs\n\n---\nHuly Issue: LETTA-606","created_at":"2026-01-02T01:31:10Z"}]}
{"id":"letta-opencode-plugin-alna","title":"End-to-end Matrix coordination integration tests","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T09:51:50.255932137Z","updated_at":"2025-12-24T09:51:50.255932137Z","comments":[{"id":385,"issue_id":"letta-opencode-plugin-alna","author":"node","text":"Synced from Beads: letta-opencode-plugin-1ho\n\n---\nHuly Issue: LETTA-80","created_at":"2025-12-24T09:51:56Z"}]}
{"id":"letta-opencode-plugin-bfd9","title":"Add pagination to get_task_history tool","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:56:48.166176781Z","updated_at":"2025-12-26T21:56:48.166176781Z","comments":[{"id":774,"issue_id":"letta-opencode-plugin-bfd9","author":"node","text":"## Issue\n\nThe  tool returns ALL events, which could be thousands for long-running tasks.\n\n### Required Implementation\n\nAdd pagination parameters:\n\n\n\nReturn paginated response with metadata.\n\n### Files to Update\n\n-  - Add pagination logic\n-  - Update tool schema\n\n### Acceptance Criteria\n\n- [ ] Default limit of 100 events\n- [ ] Returns pagination metadata\n- [ ] Backwards compatible (limit=-1 returns all)\n- [ ] Tested with 500+ event tasks\n\n---\nHuly Issue: LETTA-39","created_at":"2025-12-26T21:56:48Z"}]}
{"id":"letta-opencode-plugin-bge","title":"Add @opencode-ai/sdk client and OpencodeClientManager","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:40:45.591367654Z","updated_at":"2025-12-29T15:44:18.874137251Z","dependencies":[{"issue_id":"letta-opencode-plugin-bge","depends_on_id":"letta-opencode-plugin-05hn","type":"parent-child","created_at":"2026-01-04T01:36:40.667847976Z","created_by":"unknown"}],"comments":[{"id":537,"issue_id":"letta-opencode-plugin-bge","author":"node","text":"Introduce @opencode-ai/sdk as a dependency and create an OpencodeClientManager for lifecycle management (connect, wait for server, reuse per-task, teardown). Provide methods: createClient(taskId, serverUrl), getClient(taskId), destroyClient(taskId).\n\nAcceptance Criteria:\n\n- SDK installed and pinned\n- ClientManager implemented with health checks and retries\n- Unit tests for connect/disconnect\n\nOwners: @backend\nDue date: 2025-10-28\n\n---\nHuly Issue: LETTA-27","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-bpwo","title":"Map control signals to OpenCode (cancel/pause/resume)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T05:33:50.028936853Z","updated_at":"2025-12-27T00:11:12.982620574Z","dependencies":[{"issue_id":"letta-opencode-plugin-bpwo","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:35:32.238772621Z","created_by":"unknown"}],"comments":[{"id":228,"issue_id":"letta-opencode-plugin-bpwo","author":"node","text":"Synced from Beads: letta-opencode-plugin-8c6\n\n---\nHuly Issue: LETTA-63","created_at":"2025-12-24T05:33:50Z"}]}
{"id":"letta-opencode-plugin-cbr7","title":"MCP tools: opencode_execute_task (async/sync) with idempotency + queue","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:56:53.243237358Z","updated_at":"2025-12-26T21:56:53.243237358Z","dependencies":[{"issue_id":"letta-opencode-plugin-cbr7","depends_on_id":"letta-opencode-plugin-extb","type":"parent-child","created_at":"2026-01-04T01:36:42.670657775Z","created_by":"unknown"}]}
{"id":"letta-opencode-plugin-d1k","title":"Fix unused parameter warnings in letta-client.ts","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-22T23:47:00.051474081Z","updated_at":"2025-12-22T23:47:00.051474081Z","comments":[{"id":540,"issue_id":"letta-opencode-plugin-d1k","author":"node","text":"## Code Quality Issue\n\nTypeScript hints indicate unused  parameters:\n\n- letta-client.ts:70:5\n- letta-client.ts:87:5\n\n### Investigation Needed\n\nReview if  is truly unused in  and  methods, or if it should be used for logging/validation.\n\n### Files to Review\n\n-  - createMemoryBlock\n-  - updateMemoryBlock\n\n### Acceptance Criteria\n\n- [ ] No TypeScript warnings\n- [ ] Verify correct API usage per Letta SDK docs\n- [ ] Tests pass\n\n---\nHuly Issue: LETTA-40","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-dvnz","title":"Implement bidirectional communication via memory blocks","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:53:22.499513747Z","updated_at":"2025-12-27T03:31:23.814405756Z","comments":[{"id":568,"issue_id":"letta-opencode-plugin-dvnz","author":"node","text":"Synced from Beads: letta-opencode-plugin-690l\n\n---\nHuly Issue: LETTA-292","created_at":"2025-12-26T21:53:22Z"}]}
{"id":"letta-opencode-plugin-e0eo","title":"Task cancellation, pause, and resume support","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T13:39:19.237220587Z","updated_at":"2025-12-24T13:39:19.237220587Z","dependencies":[{"issue_id":"letta-opencode-plugin-e0eo","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:41.998782395Z","created_by":"unknown"}],"comments":[{"id":501,"issue_id":"letta-opencode-plugin-e0eo","author":"node","text":"## Objective\n\nAdd task control capabilities (cancel, pause, resume) to the Letta OpenCode Plugin and ensure they are triggered via Matrix commands.\n\n## Scope\n\n- Extend ExecutionManager to support pause/resume signals\n- Implement safe cancellation that stops Docker container execution\n- Connect Matrix control messages to task control actions\n- Update workspace blocks with control status changes\n\n## Acceptance Criteria\n\n- Sending  command in Matrix immediately stops task execution and updates status\n- Pause/resume commands suspend and resume container execution with logging\n- Workspace block events reflect control actions with timestamps\n- Automated tests cover control flows and error cases (e.g., pause before start)\n\n## Notes\n\n- Coordinate with TaskRegistry for status tracking\n- Consider Docker pause/unpause for container control\n- Ensure idempotent control actions (no double cancellation)\n\n---\nHuly Issue: LETTA-21","created_at":"2025-12-24T13:39:19Z"}]}
{"id":"letta-opencode-plugin-e4dw","title":"Add automated release workflow","description":"Set up GitHub Actions workflow for automated releases with semantic versioning.\n\n## Requirements\n- Trigger on push of version tags (v*)\n- Generate changelog from conventional commits\n- Create GitHub Release with:\n  - Auto-generated release notes\n  - Changelog\n  - Link to Docker images\n- Optionally publish to npm (if needed later)\n\n## Conventional Commits\n- feat: minor version bump\n- fix: patch version bump  \n- BREAKING CHANGE: major version bump\n\n## Tools to consider\n- semantic-release or release-please\n- conventional-changelog\n\n## Integration\n- Coordinate with docker-build.yml (already builds on tags)\n- Add release notes template","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T07:16:14.188916884Z","updated_at":"2025-12-28T07:49:21.444970417Z","closed_at":"2025-12-28T07:49:21.444970417Z","close_reason":"Closed"}
{"id":"letta-opencode-plugin-e7o7","title":"Add Dependabot configuration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T01:31:54.305425405Z","updated_at":"2026-01-03T17:02:03.408678232-05:00","closed_at":"2026-01-03T17:02:03.408678232-05:00","close_reason":"Duplicate","comments":[{"id":908,"issue_id":"letta-opencode-plugin-e7o7","author":"root","text":"Synced from Beads: letta-opencode-plugin-zp5l\n\nSet up Dependabot for automated dependency updates.\n\n## Requirements\n\n- Create \n- Configure for npm ecosystem\n- Weekly update schedule\n- Group minor/patch updates together\n- Auto-merge patch updates (optional)\n\n## Configuration\n\n\n\n## Also consider\n\n- GitHub Actions updates\n- Docker base image updates\n\n---\nHuly Issue: LETTA-607","created_at":"2026-01-02T01:31:54Z"}]}
{"id":"letta-opencode-plugin-e95","title":"Backward compatibility flag and rollout (blue/green)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-22T23:47:02.369503579Z","updated_at":"2025-12-22T23:47:02.369503579Z","dependencies":[{"issue_id":"letta-opencode-plugin-e95","depends_on_id":"letta-opencode-plugin-05hn","type":"parent-child","created_at":"2026-01-04T01:36:41.649316951Z","created_by":"unknown"}],"comments":[{"id":543,"issue_id":"letta-opencode-plugin-e95","author":"node","text":"Introduce feature flag to toggle CLI vs OpenCode server (OPENCODE_SERVER_ENABLED). Implement blue/green rollout: deploy side by side, route small traffic, monitor, ramp to 100%, rollback path documented.\n\nAcceptance Criteria:\n\n- Feature flag wired into ExecutionManager path\n- Blue/green rollout documented and trialed\n- Rollback tested\n\nOwners: @platform\nDue date: 2025-11-12\n\n---\nHuly Issue: LETTA-33","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-eecv","title":"Research Letta TypeScript SDK capabilities and API patterns","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T12:25:56.955373284Z","updated_at":"2025-12-24T12:25:56.955373284Z","comments":[{"id":479,"issue_id":"letta-opencode-plugin-eecv","author":"node","text":"Synced from Beads: letta-opencode-plugin-743\n\n---\nHuly Issue: LETTA-73","created_at":"2025-12-24T12:25:57Z"}]}
{"id":"letta-opencode-plugin-extb","title":"MCP Server MVP: OpenCode Appendage for Letta (Epic)","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-02T01:34:01.214358004Z","updated_at":"2026-01-03T17:03:21.040354768-05:00","closed_at":"2026-01-03T17:03:21.040354768-05:00","close_reason":"Duplicate","comments":[{"id":1246,"issue_id":"letta-opencode-plugin-extb","author":"root","text":"Synced from Beads: letta-opencode-plugin-0min\n\n---\nHuly Issue: LETTA-435","created_at":"2026-01-02T01:34:01Z"}]}
{"id":"letta-opencode-plugin-ezi6","title":"Execution Manager: container spawn/limits/timeouts/log tail","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:53:29.060121611Z","updated_at":"2025-12-26T21:53:29.060121611Z","dependencies":[{"issue_id":"letta-opencode-plugin-ezi6","depends_on_id":"letta-opencode-plugin-extb","type":"parent-child","created_at":"2026-01-04T01:36:39.659265274Z","created_by":"unknown"}],"comments":[{"id":580,"issue_id":"letta-opencode-plugin-ezi6","author":"node","text":"Synced from Beads: letta-opencode-plugin-gkt\n\n---\nHuly Issue: LETTA-290","created_at":"2025-12-26T21:53:29Z"}]}
{"id":"letta-opencode-plugin-fmjx","title":"Integration tests for OpenCode server path","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-24T06:12:42.352304584Z","updated_at":"2026-01-02T20:52:48.46676569Z","comments":[{"id":269,"issue_id":"letta-opencode-plugin-fmjx","author":"node","text":"Synced from Beads: letta-opencode-plugin-nff\n\n---\nHuly Issue: LETTA-126","created_at":"2025-12-24T06:12:42Z"}]}
{"id":"letta-opencode-plugin-foo5","title":"Increase default MAX_CONCURRENT_TASKS from 3 to 10","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:56:42.437784774Z","updated_at":"2025-12-26T21:56:42.437784774Z","comments":[{"id":766,"issue_id":"letta-opencode-plugin-foo5","author":"node","text":"Synced from Beads: letta-opencode-plugin-2jg\n\n---\nHuly Issue: LETTA-64","created_at":"2025-12-26T21:56:42Z"}]}
{"id":"letta-opencode-plugin-g380","title":"Bidirectional communication layer (cancel/pause/resume/updates)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:56:46.409121327Z","updated_at":"2025-12-26T21:56:46.409121327Z","dependencies":[{"issue_id":"letta-opencode-plugin-g380","depends_on_id":"letta-opencode-plugin-zknt","type":"parent-child","created_at":"2025-12-29T23:21:33.247568865Z","created_by":"unknown"},{"issue_id":"letta-opencode-plugin-g380","depends_on_id":"letta-opencode-plugin-6d5u","type":"parent-child","created_at":"2026-01-04T01:36:38.975278158Z","created_by":"unknown"}],"comments":[{"id":771,"issue_id":"letta-opencode-plugin-g380","author":"node","text":"## Objective\n\nImplement a communication layer supporting bidirectional signals between Letta agents and OpenCode tasks via Matrix, covering cancellation, pause/resume, runtime updates, and feedback loops.\n\n## Scope\n\n- Define CommunicationLayer interface\n- Implement task control signals: cancel, pause, resume\n- Add runtime update mechanism for injecting new context mid-execution\n- Support feedback loop where agent reviews artifacts and requests changes\n\n## Acceptance Criteria\n\n- Sending Matrix control message updates task status (cancel/pause/resume)\n- Runtime updates modify workspace block metadata and notify execution\n- Feedback messages tracked and acknowledged by dev agent\n- Unit tests simulate control signals and ensure proper propagation\n\n## Notes\n\n- Use Matrix message types described in design doc\n- Ensure resilience (e.g., retry on delivery failures)\n- Integrate with ExecutionManager to handle pause/resume commands\n\n---\nHuly Issue: LETTA-18","created_at":"2025-12-26T21:56:46Z"}]}
{"id":"letta-opencode-plugin-hje","title":"Add description field to workspace memory blocks","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-22T23:47:02.029490805Z","updated_at":"2025-12-22T23:47:02.029490805Z","comments":[{"id":545,"issue_id":"letta-opencode-plugin-hje","author":"node","text":"## Critical Issue\n\nPer Letta documentation review (docs/IMPLEMENTATION_REVIEW.md), workspace memory blocks are missing the critical  field.\n\n### Current Implementation\n\n\n\n### Why This Matters\n\nFrom Letta docs:\n\n\u003e \"The description is the main information used by the agent to determine how to read and write to that block. Without a good description, the agent may not understand how to use the block.\"\n\nWithout this field, agents don't understand:\n\n- What the block contains\n- How to interpret the JSON structure\n- When to check the block\n- What fields are important\n\n### Required Fix\n\n\n\n### Files to Update\n\n-  - Add description parameter\n-  - Update CreateMemoryBlockRequest interface\n\n### Acceptance Criteria\n\n- [ ] Description field added to all workspace block creation calls\n- [ ] Type definitions updated to include description\n- [ ] Description clearly explains workspace block structure and usage\n- [ ] Tested with Letta agent to verify understanding\n\n---\nHuly Issue: LETTA-35","created_at":"2025-12-24T21:58:39Z"}]}
{"id":"letta-opencode-plugin-k558","title":"MCP Server MVP: OpenCode Appendage for Letta (Epic)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:55:44.460303774Z","updated_at":"2025-12-26T21:55:44.460303774Z","comments":[{"id":688,"issue_id":"letta-opencode-plugin-k558","author":"node","text":"Synced from Beads: letta-opencode-plugin-dqf\n\n---\nHuly Issue: LETTA-192","created_at":"2025-12-26T21:55:44Z"}]}
{"id":"letta-opencode-plugin-lmhg","title":"Design OpenCode-as-Appendage architecture for Letta agent delegation","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T07:35:11.898152905Z","updated_at":"2025-12-24T07:35:11.898152905Z","comments":[{"id":300,"issue_id":"letta-opencode-plugin-lmhg","author":"node","text":"Synced from Beads: letta-opencode-plugin-cgc\n\n---\nHuly Issue: LETTA-118","created_at":"2025-12-24T07:35:12Z"}]}
{"id":"letta-opencode-plugin-mmeq","title":"OpenCode Server Migration (replace CLI with HTTP API)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:55:30.356752827Z","updated_at":"2025-12-26T22:21:49.168506539Z","comments":[{"id":667,"issue_id":"letta-opencode-plugin-mmeq","author":"node","text":"Synced from Beads: letta-opencode-plugin-57u\n\n---\nHuly Issue: LETTA-218","created_at":"2025-12-26T21:55:30Z"}]}
{"id":"letta-opencode-plugin-njzf","title":"Implement event pruning to prevent workspace block overflow","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T09:51:47.09692198Z","updated_at":"2025-12-27T00:17:51.004076897Z","comments":[{"id":383,"issue_id":"letta-opencode-plugin-njzf","author":"node","text":"Synced from Beads: letta-opencode-plugin-1dv\n\n---\nHuly Issue: LETTA-73","created_at":"2025-12-24T09:51:47Z"}]}
{"id":"letta-opencode-plugin-nv5","title":"Implement agent context retrieval tools for OpenCode","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-23T03:25:36.856731177Z","updated_at":"2025-12-23T03:25:36.856731177Z"}
{"id":"letta-opencode-plugin-orsi","title":"Add character limits to workspace memory blocks","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T07:53:27.864523525Z","updated_at":"2026-01-01T20:05:37.802435249Z","comments":[{"id":310,"issue_id":"letta-opencode-plugin-orsi","author":"node","text":"Synced from Beads: letta-opencode-plugin-3rc\n\n---\nHuly Issue: LETTA-112","created_at":"2025-12-24T07:53:28Z"}]}
{"id":"letta-opencode-plugin-oyus","title":"Types and config updates for OpenCode integration","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-24T08:01:11.236435258Z","updated_at":"2025-12-28T09:32:31.818446858Z","comments":[{"id":317,"issue_id":"letta-opencode-plugin-oyus","author":"node","text":"Synced from Beads: letta-opencode-plugin-56d\n\n---\nHuly Issue: LETTA-137","created_at":"2025-12-24T08:01:11Z"}]}
{"id":"letta-opencode-plugin-popk","title":"Matrix client integration for Letta OpenCode Plugin","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T05:33:52.739111032Z","updated_at":"2025-12-28T16:06:26.801032762Z","comments":[{"id":229,"issue_id":"letta-opencode-plugin-popk","author":"node","text":"Synced from Beads: letta-opencode-plugin-81t\n\n---\nHuly Issue: LETTA-88","created_at":"2025-12-24T05:33:52Z"}]}
{"id":"letta-opencode-plugin-qdgi","title":"Metrics, logs, kill switches + docs","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T10:48:06.467544492Z","updated_at":"2025-12-27T04:26:33.061538864Z","comments":[{"id":418,"issue_id":"letta-opencode-plugin-qdgi","author":"node","text":"Synced from Beads: letta-opencode-plugin-cqc\n\n---\nHuly Issue: LETTA-99","created_at":"2025-12-24T10:48:06Z"}]}
{"id":"letta-opencode-plugin-qsom","title":"Implement primary task delegation tool for agents","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-24T16:28:19.377955508Z","updated_at":"2026-01-03T16:43:58.35677561-05:00","closed_at":"2026-01-03T16:43:58.35677561-05:00","close_reason":"Duplicate"}
{"id":"letta-opencode-plugin-s2og","title":"Fix tool approval disabling for ephemeral workers in MCP bridge","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-26T21:56:47.07080206Z","updated_at":"2025-12-28T19:31:09.471442396Z","comments":[{"id":772,"issue_id":"letta-opencode-plugin-s2og","author":"node","text":"## Problem\n\nThe MCP bridge (http-wrapper-v3-fixed.js) attempts to disable tool approval requirements for ephemeral worker agents, but the approval is still being enforced during execution.\n\n## Current Behavior\n\n- Code successfully calls PATCH  with \n- Logs show \"✓ Disabled approval for tool {name}\" for all 6 filesystem tools (Read, Write, Edit, Glob, Grep, LS)\n- Despite this, tools still require approval when worker executes tasks\n- Main agent shows  with  for all tools\n\n## Expected Behavior\n\nEphemeral worker agents should execute filesystem tools autonomously without human-in-the-loop approval prompts.\n\n## Technical Details\n\n- **File**: \n- **Lines**: 263-291 (approval disabling logic)\n- **API Endpoint**:  (PATCH)\n- **Tool ID Mapping**:  populated at startup (line 149)\n\n## Investigation Needed\n\n1. Verify API response indicates success\n2. Check if tool_rules persist after PATCH call\n3. Determine if there's a delay/caching issue\n4. Test if approval needs to be disabled before or after tool attachment\n\n## Related Files\n\n-  (lines 263-291)\n-  (execution logs)\n\n---\nHuly Issue: LETTA-43","created_at":"2025-12-26T21:56:47Z"}]}
{"id":"letta-opencode-plugin-sxrj","title":"Add file size validation to read_task_file tool","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T05:10:18.914147209Z","updated_at":"2025-12-27T20:36:10.82509681Z","comments":[{"id":225,"issue_id":"letta-opencode-plugin-sxrj","author":"node","text":"## Objective\n\nProvide tooling to archive Matrix task rooms and enable later review of conversations, including search, replay, and summary capabilities.\n\n## Scope\n\n- Implement room archival process post-task completion\n- Store conversation metadata linked to workspace blocks and task IDs\n- Provide scripts/API to retrieve archives and generate summaries\n- Integrate with future analytics/learning modules\n\n## Acceptance Criteria\n\n-  closes room and stores conversation history (events, participants, timestamps)\n- Archive metadata searchable by task ID, agent ID, date range\n- Summary report generated including key events (control signals, updates, completion)\n- Documentation on how to retrieve and review archived conversations\n\n## Notes\n\n- Consider Matrix export APIs or client-side event fetching\n- Store archives in dedicated storage (e.g., S3, database, filesystem)\n- Ensure access control for archived data\n- Coordinate with LETTA analytics roadmap\n\n---\nHuly Issue: LETTA-23","created_at":"2025-12-24T05:10:19Z"}]}
{"id":"letta-opencode-plugin-td8n","title":"Evaluate and reuse opencode-mcp-tool repo for MCP server scaffolding","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-26T21:56:43.535644707Z","updated_at":"2025-12-26T21:56:43.535644707Z","comments":[{"id":768,"issue_id":"letta-opencode-plugin-td8n","author":"node","text":"Synced from Beads: letta-opencode-plugin-2us\n\n---\nHuly Issue: LETTA-58","created_at":"2025-12-26T21:56:43Z"}]}
{"id":"letta-opencode-plugin-tqry","title":"Matrix conversation archiving and review tooling","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T08:01:07.584078827Z","updated_at":"2025-12-27T00:55:57.154512713Z","comments":[{"id":316,"issue_id":"letta-opencode-plugin-tqry","author":"node","text":"Synced from Beads: letta-opencode-plugin-cix\n\n---\nHuly Issue: LETTA-110","created_at":"2025-12-24T08:01:07Z"}]}
{"id":"letta-opencode-plugin-ulak","title":"Matrix task room manager service","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T16:09:45.728115925Z","updated_at":"2025-12-24T16:09:45.728115925Z","comments":[{"id":525,"issue_id":"letta-opencode-plugin-ulak","author":"node","text":"## Objective\n\nCreate a Matrix room manager service responsible for lifecycle management of task-specific rooms, including creation, participant management, and teardown.\n\n## Scope\n\n- Define MatrixRoomManager interface\n- Implement room creation with task metadata (name, topic, tags)\n- Invite participants (calling agent, dev agent, optional human observers)\n- Manage room permissions (widget support, read-only observers)\n- Handle room closure and archival\n\n## Acceptance Criteria\n\n- Calling  creates Matrix room titled  with topic set to task description\n-  handles both agent IDs and human Matrix user IDs\n-  archives room and posts closing summary\n- Room metadata includes task ID, agent IDs, timestamps\n\n## Notes\n\n- Use  patterns for power levels\n- Ensure human observers default to read-only permissions\n- Store room metadata in workspace block for retrieval\n\n---\nHuly Issue: LETTA-17","created_at":"2025-12-24T16:09:45Z"}]}
{"id":"letta-opencode-plugin-urar","title":"Runtime updates and feedback loop implementation","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T11:22:14.520798033Z","updated_at":"2026-01-01T20:05:40.779607449Z","comments":[{"id":430,"issue_id":"letta-opencode-plugin-urar","author":"node","text":"Epic tracking the MVP delivery of the OpenCode MCP server (HTTP/JSON-RPC) that executes delegated tasks from Letta agents, inherits agent context via Letta API, and reports progress/results via a workspace memory block. Scope excludes Matrix for v1.\n\n---\nHuly Issue: LETTA-8","created_at":"2025-12-24T11:22:14Z"}]}
{"id":"letta-opencode-plugin-v539","title":"Upgrade @opencode-ai/sdk from 0.15.0 to 1.0.x","description":"The OpenCode SDK has had a major version bump from 0.15.x to 1.0.x. This requires updating our dependency and ensuring compatibility with the new API.\n\n## Background\n- Current SDK version: 0.15.0\n- Latest SDK version: 1.0.204\n- OpenCode 1.0 is a complete TUI rewrite but the server API is largely unchanged\n\n## Tasks\n- [ ] Update package.json dependency\n- [ ] Review API changes in opencode-client-manager.ts\n- [ ] Update event subscription handling if needed\n- [ ] Add tests for critical SDK interactions\n- [ ] Rebuild and test container\n\n## SDK Methods Used\n- createOpencodeClient\n- session.create, session.prompt, session.abort, session.get\n- event.subscribe\n- file.status, file.read","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T05:35:17.231720249Z","updated_at":"2025-12-29T11:24:23.49247515Z"}
{"id":"letta-opencode-plugin-y0fk","title":"Implement primary task delegation tool for agents","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T16:18:49.486442639Z","updated_at":"2025-12-24T16:18:49.486442639Z"}
{"id":"letta-opencode-plugin-ybdt","title":"Add integration tests for OpenCode SDK client","description":"Add tests to verify critical SDK interactions work correctly after the 1.0 upgrade.\n\n## Critical paths to test\n1. Session creation - verify session.create returns valid session ID\n2. Prompt sending - verify session.prompt sends message correctly  \n3. Event subscription - verify event.subscribe returns async iterable\n4. Session abort - verify session.abort works\n5. File operations - verify file.status and file.read work\n\n## Test approach\n- Mock the OpenCode server responses where possible\n- Add integration tests that can run against a real server (optional)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T05:35:24.097027657Z","updated_at":"2025-12-28T05:35:24.097027657Z"}
{"id":"letta-opencode-plugin-yr35","title":"Workspace block schema + optimistic concurrency helpers","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T15:24:06.141022992Z","updated_at":"2025-12-24T15:24:06.141022992Z"}
{"id":"letta-opencode-plugin-zdwg","title":"Fix completion notification role (use system instead of user)","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T12:13:09.931978348Z","updated_at":"2025-12-24T12:13:09.931978348Z","comments":[{"id":467,"issue_id":"letta-opencode-plugin-zdwg","author":"node","text":"Synced from Beads: letta-opencode-plugin-cu8\n\n---\nHuly Issue: LETTA-77","created_at":"2025-12-24T12:13:10Z"}]}
{"id":"letta-opencode-plugin-zknt","title":"Matrix-based multi-agent coordination via Synapse","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T14:31:25.69506668Z","updated_at":"2025-12-24T14:31:25.69506668Z","comments":[{"id":510,"issue_id":"letta-opencode-plugin-zknt","author":"node","text":"## Objective\n\nImplement Matrix (Synapse) as a coordination layer between Letta calling agents and OpenCode execution agents, enabling bidirectional communication, human-in-the-loop participation, and conversation archiving.\n\n## Scope\n\n- Create Matrix rooms per OpenCode task with automatic participant management\n- Route messages between Letta agents, OpenCode dev agents, and human observers\n- Support task control signals (cancel, pause/resume) and runtime updates\n- Archive conversations for later review and learning\n\n## Success Criteria\n\n- New Matrix integration architecture documented\n- End-to-end task flow demonstrated: task creation → Matrix room → bidirectional messaging → archival\n- Human observer can join task room and provide feedback\n\n## Deliverables\n\n1. Architecture \u0026 configuration docs\n2. Matrix coordination services (room manager, message router, communication layer)\n3. Integration tests covering agent ↔ dev ↔ human loop\n\n## Dependencies\n\n- LETTA-9 through LETTA-14 (MCP server core) – completed\n- LETTA-10 (Letta client adapter) – completed\n\n## Out of Scope\n\n- External federation across organizations\n- Advanced analytics/learning from conversations\n\n---\nHuly Issue: LETTA-15","created_at":"2025-12-24T14:31:25Z"}]}
{"id":"letta-opencode-plugin-zpeg","title":"Letta client adapter: agents/memory/messages with retries \u0026 409 handling","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-24T12:09:45.451815738Z","updated_at":"2025-12-24T12:09:45.451815738Z"}
